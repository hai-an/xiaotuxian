{"version":3,"file":"js/222.7a2ac2f3.js","mappings":"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","sources":["webpack://erabbit-pc-vue-project/./src/api/product.js","webpack://erabbit-pc-vue-project/./src/views/cart/index.vue","webpack://erabbit-pc-vue-project/./src/views/cart/components/cart-none.vue","webpack://erabbit-pc-vue-project/./src/views/cart/components/cart-none.vue?773b","webpack://erabbit-pc-vue-project/./src/views/cart/components/cart-sku.vue","webpack://erabbit-pc-vue-project/./src/views/cart/components/cart-sku.vue?c51c","webpack://erabbit-pc-vue-project/./src/views/cart/index.vue?9212","webpack://erabbit-pc-vue-project/./src/views/goods/components/goods-relevant.vue","webpack://erabbit-pc-vue-project/./src/views/goods/components/goods-relevant.vue?5e83","webpack://erabbit-pc-vue-project/./src/views/goods/components/goods-sku.vue","webpack://erabbit-pc-vue-project/./src/vender/power-set.js","webpack://erabbit-pc-vue-project/./src/views/goods/components/goods-sku.vue?6430"],"sourcesContent":["import request from '@/utils/request'\r\n\r\n/**\r\n * 获取商品详情\r\n * @param {String} id - 商品ID\r\n */\r\nexport const findGoods = (id) => {\r\n  return request('/goods', 'get', { id })\r\n}\r\n\r\n/**\r\n * 获取商品同类推荐-未传入ID为猜你喜欢\r\n * @param {String} id - 商品ID\r\n * @param {Number} limit - 获取条数\r\n */\r\nexport const findRelGoods = (id, limit = 16) => {\r\n  return request('/goods/relevant', 'get', { id, limit })\r\n}\r\n\r\n/**\r\n * 获取热榜商品\r\n * @param {Number} type - 1代表24小时热销榜 2代表周热销榜 3代表总热销榜\r\n * @param {Number} limit - 获取个数\r\n */\r\nexport const findHotGoods = ({ id, type, limit = 3 }) => {\r\n  return request('/goods/hot', 'get', { id, type, limit })\r\n}\r\n\r\n/**\r\n * 获取商品的评价统计信息\r\n * @param {String} id - 商品ID\r\n */\r\nexport const findCommentInfoByGoods = (id) => {\r\n  // return request(`/goods/${id}/evaluate`, 'get')\r\n  return request(`https://mock.boxuegu.com/mock/1175/goods/${id}/evaluate`)\r\n}\r\n\r\n/**\r\n * 查询商品的评价列表\r\n * @param {String} id - 商品ID\r\n * @param {Object} params - 商品\r\n */\r\nexport const findGoodsCommentList = (id, params) => {\r\n  // return request(`/goods/${id}/evaluate`, 'get')\r\n  // axios 遇见http https开头的地址,不会加上基准地址\r\n  return request(`https://mock.boxuegu.com/mock/1175/goods/${id}/evaluate/page`, 'get', params)\r\n}\r\n\r\n/**\r\n * 获取商品的specs和skus\r\n * @param {String} skuId - 商品SKUID\r\n * @returns Promise\r\n */\r\nexport const getSpecsAndSkus = (skuId) => {\r\n  return request(`/goods/sku/${skuId}`, 'get')\r\n}\r\n","<template>\r\n  <div class=\"xtx-cart-page\">\r\n    <div class=\"container\">\r\n      <XtxBread>\r\n        <XtxBreadItem to=\"/\">首页</XtxBreadItem>\r\n        <XtxBreadItem>购物车</XtxBreadItem>\r\n      </XtxBread>\r\n      <div class=\"cart\">\r\n        <table>\r\n          <thead>\r\n            <tr>\r\n              <th width=\"120\"><XtxCheckbox  @change=\"checkAll\" :modelValue=\"$store.getters['cart/isCheckAll']\" >全选</XtxCheckbox></th>\r\n              <th width=\"400\">商品信息</th>\r\n              <th width=\"220\">单价</th>\r\n              <th width=\"180\">数量</th>\r\n              <th width=\"180\">小计</th>\r\n              <th width=\"140\">操作</th>\r\n            </tr>\r\n          </thead>\r\n          <!-- 有效商品 -->\r\n          <tbody >\r\n            <tr v-if=\"$store.getters['cart/validList'].length===0\">\r\n              <td colspan=\"6\">\r\n                <CartNone />\r\n              </td>\r\n            </tr>\r\n            <tr v-for=\"item in $store.getters['cart/validList']\" :key=\"item.skuId\">\r\n              <td><XtxCheckbox @change=\"$event => checkOne(item.skuId,$event)\" :modelValue=\"item.selected\" /></td>\r\n              <td>\r\n                <div class=\"goods\">\r\n                  <RouterLink :to=\"`/product/${item.id}`\"><img :src=\"item.picture\" alt=\"\"></RouterLink>\r\n                  <div>\r\n                    <p class=\"name ellipsis\">{{item.name}}</p>\r\n                    <!-- 选择规格组件 -->\r\n                    <CartSku @change=\"$event=>updateCartSku(item.skuId,$event)\" :skuId=\"item.skuId\" :attrs-text=\"item.attrsText\" ></CartSku>\r\n                  </div>\r\n                </div>\r\n              </td>\r\n              <td class=\"tc\">\r\n                <p>&yen;{{item.nowPrice}}</p>\r\n                <p v-if=\"item.price-item.nowPrice>0\">比加入时降价 <span class=\"red\">&yen;{{item.price-item.nowPrice}}</span></p>\r\n              </td>\r\n              <td class=\"tc\">\r\n                <XtxNumbox :modelValue=\"item.count\" :max=\"item.stock\" @change=\"$event=>changeCount(item.skuId,$event)\"/>\r\n              </td>\r\n              <td class=\"tc\"><p class=\"f16 red\">&yen;{{item.nowPrice*100*item.count/100}}</p></td>\r\n              <td class=\"tc\">\r\n                <p><a href=\"javascript:;\">移入收藏夹</a></p>\r\n                <p><a @click=\"deleteCart(item.skuId)\" class=\"green\" href=\"javascript:;\">删除</a></p>\r\n                <p><a href=\"javascript:;\">找相似</a></p>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n          <!-- 无效商品 -->\r\n          <tbody v-if=\"$store.getters['cart/invalidList'].length>0\">\r\n            <tr>\r\n              <td colspan=\"6\">\r\n                <h3 class=\"tit\">失效商品</h3>\r\n              </td>\r\n            </tr>\r\n            <tr v-for=\"item in $store.getters['cart/invalidList']\" :key=\"item.skuId\">\r\n              <td><XtxCheckbox style=\"color:#eee;\" /></td>\r\n              <td>\r\n                <div class=\"goods\">\r\n                  <RouterLink :to=\"`/product/${item.id}`\"><img :src=\"item.picture\" alt=\"\"></RouterLink>\r\n                  <div>\r\n                    <p class=\"name ellipsis\">{{item.name}}</p>\r\n                    <p class=\"attr\">{{item.attrsText}}</p>\r\n                  </div>\r\n                </div>\r\n              </td>\r\n              <td class=\"tc\"><p>&yen;{{item.nowPrice}}</p></td>\r\n              <td class=\"tc\">{{item.count}}</td>\r\n              <!-- nums.toString().split(\".\")[0]+'.'+nums.toString().split(\".\")[1].substring(0,2) -->\r\n              <td class=\"tc\"><p>&yen;{{(item.nowPrice*100*item.count/100)}}</p></td>\r\n              <td class=\"tc\">\r\n                <p><a @click=\"deleteCart(item.skuId)\" class=\"green\" href=\"javascript:;\">删除</a></p>\r\n                <p><a href=\"javascript:;\">找相似</a></p>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n      <!-- 操作栏 -->\r\n      <div class=\"action\">\r\n        <div class=\"batch\">\r\n          <XtxCheckbox @change=\"checkAll\" :modelValue=\"$store.getters['cart/isCheckAll']\">全选</XtxCheckbox>\r\n\r\n          <a @click=\"batchDeleteCart()\" href=\"javascript:;\">删除商品</a>\r\n          <a href=\"javascript:;\">移入收藏夹</a>\r\n          <a @click=\"batchDeleteCart(true)\" href=\"javascript:;\">清空失效商品</a>\r\n        </div>\r\n        <div class=\"total\">\r\n          共 {{$store.getters['cart/validTotal']}} 件商品，已选择 {{$store.getters['cart/selectedTotal']}} 件，商品合计：\r\n          <span class=\"red\">¥{{$store.getters['cart/selectedAmount'].toFixed(2)}}</span>\r\n          <XtxButton @click=\"checkOut\" type=\"primary\">下单结算</XtxButton>\r\n        </div>\r\n      </div>\r\n      <!-- 猜你喜欢 -->\r\n      <GoodRelevant />\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport GoodRelevant from '@/views/goods/components/goods-relevant'\r\nimport CartNone from './components/cart-none'\r\nimport CartSku from './components/cart-sku.vue'\r\nimport { useStore } from 'vuex'\r\nimport Confirm from '@/components/library/Confirm'\r\nimport Message from '@/components/library/Message'\r\nimport { useRouter } from 'vue-router'\r\n\r\nexport default {\r\n  name: 'XtxCartPage',\r\n  components: {\r\n    GoodRelevant,\r\n    CartNone,\r\n    CartSku\r\n  },\r\n  setup () {\r\n    const store = useStore()\r\n    const router = useRouter()\r\n    // 单选逻辑\r\n    const checkOne = (skuId, selected) => {\r\n      store.dispatch('cart/updateCart', { skuId, selected })\r\n    }\r\n    // 全选逻辑\r\n    const checkAll = (selected) => {\r\n      store.dispatch('cart/checkAllCart', selected)\r\n    }\r\n    // 删除逻辑\r\n    const deleteCart = (skuId) => {\r\n      console.log(skuId)\r\n      Confirm({ title: '友情提示', text: '亲,你确定要删除该商品吗?' }).then(() => {\r\n        store.dispatch('cart/deleteCart', skuId)\r\n        Message({ type: 'success', text: '删除成功' })\r\n      }).catch(e => {})\r\n      // store.dispatch('cart/deleteCart', skuId).then(() => Message({ type: 'success', text: '删除成功' }))\r\n    }\r\n    // 批量删除选中商品/批量删除失效商品 逻辑\r\n    const batchDeleteCart = (isClear) => {\r\n      // 如果要做批量删除的列表无数据，阻止提示下没有你要删除的商品。\r\n      // 清空失效商品：目前传人[]数据，会清空说有的商品包括有效商品（后台BUG）\r\n      Confirm({ title: '友情提示', text: `亲,你确定要删除${isClear ? '失效' : '选中'}的商品吗?` }).then(() => {\r\n        store.dispatch('cart/batchDeleteCart', isClear)\r\n        Message({ type: 'success', text: '删除成功' })\r\n      }).catch(e => {})\r\n      // store.dispatch('cart/batchDeleteCart')\r\n    }\r\n    // 修改商品数量\r\n    const changeCount = (skuId, count) => {\r\n      store.dispatch('cart/updateCart', { skuId, count })\r\n    }\r\n\r\n    // 修改商品规格\r\n    const updateCartSku = (oldSkuId, newSku) => {\r\n      // console.log('oldSkuId, newSku:', oldSkuId, newSku)\r\n\r\n      store.dispatch('cart/updateCartSku', { oldSkuId, newSku })\r\n    }\r\n    // 结算\r\n    const checkOut = () => {\r\n      // 1.是否选中有效商品\r\n      // 2.是否选中商品,提示:选中\r\n      // 3.是否登录, 弹出确认框 /member ,路由前置守卫拦截到登录页面,\r\n      if (store.getters['cart/selectedTotal'] === 0) {\r\n        return Message({ text: '至少选中一件商品才能结算' })\r\n      }\r\n      if (!store.state.user.profile.token) { // 没有token,需要提示登录\r\n        Confirm({ text: '登录后才能结算,点击确定登录!' }).then(() => {\r\n        // 点击确定 跳转路由\r\n          router.push('/member/checkout')\r\n        }).catch(e => {})\r\n      } else { // 已登录\r\n        router.push('/member/checkout')\r\n      }\r\n    }\r\n    return { checkOne, checkAll, deleteCart, batchDeleteCart, changeCount, updateCartSku, checkOut }\r\n  }\r\n}\r\n</script>\r\n<style scoped lang=\"less\">\r\n.tc {\r\n  text-align: center;\r\n  .xtx-numbox {\r\n    margin: 0 auto;\r\n    width: 120px;\r\n  }\r\n}\r\n.red {\r\n  color: @priceColor;\r\n}\r\n.green {\r\n  color: @xtxColor\r\n}\r\n.f16 {\r\n  font-size: 16px;\r\n}\r\n.goods {\r\n  display: flex;\r\n  align-items: center;\r\n  img {\r\n    width: 100px;\r\n    height: 100px;\r\n  }\r\n  > div {\r\n    width: 280px;\r\n    font-size: 16px;\r\n    padding-left: 10px;\r\n    .attr {\r\n      font-size: 14px;\r\n      color: #999;\r\n    }\r\n  }\r\n}\r\n.action {\r\n  display: flex;\r\n  background: #fff;\r\n  margin-top: 20px;\r\n  height: 80px;\r\n  align-items: center;\r\n  font-size: 16px;\r\n  justify-content: space-between;\r\n  padding: 0 30px;\r\n  .xtx-checkbox {\r\n    color: #999;\r\n  }\r\n  .batch {\r\n    a {\r\n      margin-left: 20px;\r\n    }\r\n  }\r\n  .red {\r\n    font-size: 18px;\r\n    margin-right: 20px;\r\n    font-weight: bold;\r\n  }\r\n}\r\n.tit {\r\n  color: #666;\r\n  font-size: 16px;\r\n  font-weight: normal;\r\n  line-height: 50px;\r\n}\r\n.xtx-cart-page {\r\n  .cart {\r\n    background: #fff;\r\n    color: #666;\r\n    table {\r\n      border-spacing: 0;\r\n      border-collapse: collapse;\r\n      line-height: 24px;\r\n      th,td{\r\n        padding: 10px;\r\n        border-bottom: 1px solid #f5f5f5;\r\n        &:first-child {\r\n          text-align: left;\r\n          padding-left: 30px;\r\n          color: #999;\r\n        }\r\n      }\r\n      th {\r\n        font-size: 16px;\r\n        font-weight: normal;\r\n        line-height: 50px;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","<template>\r\n  <div class=\"cart-none\">\r\n    <img src=\"@/assets/images/none.png\" alt=\"\" />\r\n    <p>购物车内暂时没有商品</p>\r\n    <div class=\"btn\">\r\n      <XtxButton type=\"primary\" @click=\"$router.push('/')\">继续逛逛</XtxButton>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: 'CartNone'\r\n}\r\n</script>\r\n<style scoped lang=\"less\">\r\n.cart-none {\r\n  text-align: center;\r\n  padding: 150px 0;\r\n  background: #fff;\r\n  img {\r\n    width: 180px;\r\n  }\r\n  p {\r\n    color: #999999;\r\n    padding: 20px 0;\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./cart-none.vue?vue&type=template&id=2a071270&scoped=true\"\nimport script from \"./cart-none.vue?vue&type=script&lang=js\"\nexport * from \"./cart-none.vue?vue&type=script&lang=js\"\n\nimport \"./cart-none.vue?vue&type=style&index=0&id=2a071270&scoped=true&lang=less\"\n\nimport exportComponent from \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\erabbit-pc-vue-project\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2a071270\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"cart-sku\" ref=\"target\">\r\n    <div class=\"attrs\"  @click=\"toggle()\">\r\n      <span class=\"ellipsis\">{{attrsText}}</span>\r\n      <i class=\"iconfont icon-angle-down\"></i>\r\n    </div>\r\n    <div class=\"layer\" v-if=\"visable\">\r\n      <!-- 加载状态 -->\r\n      <div v-if=\"!goods\" class=\"loading\"></div>\r\n      <!-- 商品规格 -->\r\n      <GoodsSku @change=\"changeSku\" v-if=\"goods\" :skuId=\"skuId\" :goods=\"goods\"  />\r\n      <XtxButton @click=\"submit()\"  v-if=\"goods\" type=\"primary\" size=\"mini\" style=\"margin-left:60px\">确认</XtxButton>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { ref } from 'vue'\r\nimport GoodsSku from '@/views/goods/components/goods-sku'\r\nimport { onClickOutside } from '@vueuse/core'\r\nimport { getSpecsAndSkus } from '@/api/product'\r\nexport default {\r\n  name: 'CartSku',\r\n  props: {\r\n    attrsText: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    skuId: {\r\n      type: String,\r\n      default: ''\r\n    }\r\n  },\r\n  components: { GoodsSku },\r\n  setup (props, { emit }) {\r\n    const visable = ref(false) // 控制弹层显示\r\n    const goods = ref(null) // 商品信息\r\n    const loading = ref(false) // 加载状态\r\n    // 选择sku商品规格时,触发\r\n    const currSku = ref(null)\r\n    const changeSku = (sku) => {\r\n      currSku.value = sku\r\n    }\r\n    // 点击确定时, 发送当前选中的 sku,提交信息给购物车组件 更新sku\r\n    // 提交信息给购物车组件\r\n    const submit = () => {\r\n      // 给购物车提供的数据: 有sku信息,且新的sku信息 与 老的sku信息 不能相同 (id)\r\n      if (currSku.value && currSku.value.skuId && currSku.value.skuId !== props.skuId) {\r\n        emit('change', currSku.value)\r\n        // console.log(currSku.value)\r\n        close()\r\n      }\r\n    }\r\n    // |-----------------------------\r\n\r\n    // 打开\r\n    const open = () => {\r\n      visable.value = true\r\n      // 获取当前spec和sku数据\r\n      getSpecsAndSkus(props.skuId).then(data => {\r\n        goods.value = data.result\r\n      })\r\n    }\r\n    // 关闭\r\n    const close = () => {\r\n      visable.value = false\r\n      goods.value = null\r\n    }\r\n    // 切换\r\n    const toggle = () => {\r\n      visable.value ? close() : open()\r\n      console.log(123213)\r\n    }\r\n    // 点及其他地方关闭\r\n    const target = ref(null)\r\n    onClickOutside(target, () => {\r\n      close()\r\n    })\r\n\r\n    return { target, open, close, toggle, visable, goods, loading, changeSku, submit }\r\n  }\r\n}\r\n</script>\r\n<style scoped lang=\"less\">\r\n.cart-sku {\r\n  height: 28px;\r\n  border: 1px solid #f5f5f5;\r\n  padding: 0 6px;\r\n  position: relative;\r\n  margin-top: 10px;\r\n  display:inline-block;\r\n  .attrs {\r\n    line-height: 24px;\r\n    display: flex;\r\n    span {\r\n      max-width: 230px;\r\n      font-size: 14px;\r\n      color: #999;\r\n    }\r\n    i {\r\n      margin-left: 5px;\r\n      font-size: 14px;\r\n    }\r\n  }\r\n  .layer {\r\n    position: absolute;\r\n    left: -1px;\r\n    top: 40px;\r\n    z-index: 10;\r\n    width: 400px;\r\n    border: 1px solid @xtxColor;\r\n    box-shadow: 2px 2px 4px lighten(@xtxColor,50%);\r\n    background: #fff;\r\n    border-radius: 4px;\r\n    font-size: 14px;\r\n    padding: 20px;\r\n    &::before {\r\n      content: \"\";\r\n      width: 12px;\r\n      height: 12px;\r\n      border-left: 1px solid @xtxColor;\r\n      border-top: 1px solid @xtxColor;\r\n      position: absolute;\r\n      left: 12px;\r\n      top: -8px;\r\n      background: #fff;\r\n      transform: scale(.8,1) rotate(45deg);\r\n    }\r\n    .loading {\r\n      height: 224px;\r\n      background: url(../../../assets/images/loading.gif) no-repeat center;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./cart-sku.vue?vue&type=template&id=adb8539a&scoped=true\"\nimport script from \"./cart-sku.vue?vue&type=script&lang=js\"\nexport * from \"./cart-sku.vue?vue&type=script&lang=js\"\n\nimport \"./cart-sku.vue?vue&type=style&index=0&id=adb8539a&scoped=true&lang=less\"\n\nimport exportComponent from \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\erabbit-pc-vue-project\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-adb8539a\"]])\n\nexport default __exports__","import { render } from \"./index.vue?vue&type=template&id=1ba77c84&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=1ba77c84&scoped=true&lang=less\"\n\nimport exportComponent from \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\erabbit-pc-vue-project\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1ba77c84\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"goods-relevant\">\r\n    <div class=\"header\">\r\n      <i class=\"icon\" />\r\n      <span class=\"title\">{{goodsId? '同类商品推荐' : '猜你喜欢'}}</span>\r\n    </div>\r\n    <!-- 此处使用改造后的xtx-carousel.vue -->\r\n    <xtx-carousel :sliders=\"sliders\"></xtx-carousel>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { findRelGoods } from '@/api/product'\r\nimport { ref } from 'vue'\r\n// 得到需要的数据\r\nconst useRelGoodsData = (id) => {\r\n  const sliders = ref([])\r\n  findRelGoods(id).then(data => {\r\n    // 每页4条\r\n    const pageSize = 4\r\n    const pageCount = Math.ceil(data.result.length / pageSize)\r\n    for (let i = 0; i < pageCount; i++) {\r\n      // slice 从索引i截取,到索引e结束,返回截取的数组,不改变原数组 [] 左闭右闭\r\n      // pageCount 总页数 16页 每页4条 遍历4次 每次push [4条数据] 进去\r\n      // 首次 i为0 ,在result中截取 从索引为0开始截取,长度为4\r\n      sliders.value.push(data.result.slice(i * pageSize, (i + 1) * pageSize))\r\n    }\r\n    console.log(sliders)\r\n  })\r\n  return sliders\r\n}\r\nexport default {\r\n  // 同类推荐，猜你喜欢\r\n  name: 'GoodsRelevant',\r\n  props: {\r\n    goodsId: { type: String, default: '' }\r\n  },\r\n  setup (props) {\r\n    // 最终需要的数据是 sliders 提供给轮播图使用\r\n    // 数据结构: sliders = [[4个],[4个],[4个],[4个]]\r\n  /*   const sliders = ref([])\r\n    findRelGoods({ id: props.goodsId }).then(data => {\r\n      // data.result 商品列表,数据结构 [16个]\r\n      // 将data.result 数据赋值给sliders数据,保证数据结构正确\r\n      const pageSize = 4\r\n      const pageCount = Math.ceil(data.result.length / pageSize)\r\n      for (let i = 0; i < pageCount; i++) {\r\n        sliders.value.push(data.result.slice(pageSize * 1, pageSize * (i + 1)))\r\n      }\r\n    }) */\r\n    const sliders = useRelGoodsData(props.goodsId)\r\n    return { sliders }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang='less'>\r\n.goods-relevant {\r\n  background: #fff;\r\n  min-height: 460px;\r\n  margin-top: 20px;\r\n  .header {\r\n    height: 80px;\r\n    line-height: 80px;\r\n    padding: 0 20px;\r\n    .title {\r\n      font-size: 20px;\r\n      padding-left: 10px;\r\n    }\r\n    .icon {\r\n      width: 16px;\r\n      height: 16px;\r\n      display: inline-block;\r\n      border-top: 4px solid @xtxColor;\r\n      border-right: 4px solid @xtxColor;\r\n      box-sizing: border-box;\r\n      position: relative;\r\n      transform: rotate(45deg);\r\n      &::before {\r\n        content: \"\";\r\n        width: 10px;\r\n        height: 10px;\r\n        position: absolute;\r\n        left: 0;\r\n        top: 2px;\r\n        background: lighten(@xtxColor, 40%);\r\n      }\r\n    }\r\n  }\r\n}\r\n:deep(.xtx-carousel) {\r\n  height: 380px;\r\n  .carousel {\r\n    &-indicator {\r\n      bottom: 30px;\r\n      span {\r\n        &.active {\r\n          background: @xtxColor;\r\n        }\r\n      }\r\n    }\r\n    &-btn {\r\n      top: 110px;\r\n      opacity: 1;\r\n      background: rgba(0,0,0,0);\r\n      color: #ddd;\r\n      i {\r\n        font-size: 30px;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./goods-relevant.vue?vue&type=template&id=64a9ff65&scoped=true\"\nimport script from \"./goods-relevant.vue?vue&type=script&lang=js\"\nexport * from \"./goods-relevant.vue?vue&type=script&lang=js\"\n\nimport \"./goods-relevant.vue?vue&type=style&index=0&id=64a9ff65&scoped=true&lang=less\"\n\nimport exportComponent from \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\erabbit-pc-vue-project\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-64a9ff65\"]])\n\nexport default __exports__","<!-- eslint-disable no-return-assign -->\r\n<template>\r\n  <div class=\"goods-sku\">\r\n    <dl v-for=\"item in goods.specs\" :key=\"item.id\">\r\n      <dt >{{item.name}}</dt>\r\n      <dd>\r\n        <template v-for=\"val in item.values\" :key=\"val.name\">\r\n        <img  @click=\"clickSpecs(item,val)\" v-if=\"val.picture\" :class=\"{selected:val.selected,disabled:val.disabled}\" :src=\"val.picture\" :title=\"val.name\">\r\n        <span :class=\"{selected:val.selected,disabled:val.disabled}\" @click=\"clickSpecs(item,val)\" v-else>{{val.name}}</span>\r\n      </template>\r\n      </dd>\r\n    </dl>\r\n  </div>\r\n</template>\r\n<script>\r\nimport getPowerSet from '@/vender/power-set'\r\nconst spliter = '★'\r\n// 根据skus数据得到路径字典对象\r\nconst getPathMap = (skus) => {\r\n  const pathMap = {}\r\n  // 1. 过滤出有库存有效的sku\r\n  skus.forEach(sku => {\r\n    if (sku.inventory > 0) {\r\n      // 计算当前有库存的sku子集\r\n      // 例如:[1,2,3] => [[1],[2],[3],[1,2],[1,3],[2,3],[1,2,3]]\r\n      // 可选值数组\r\n      const valueArr = sku.specs.map(val => val.valueName)\r\n      console.log(valueArr)\r\n\r\n      // 可选值数组 子集\r\n      const valueArrPowerSet = getPowerSet(valueArr)\r\n      console.log(valueArrPowerSet)\r\n\r\n      // 遍历子集,往pathMap插入数据\r\n      valueArrPowerSet.forEach(arr => {\r\n        // 根据arr得到字符串的key,约定key是:['蓝色','美国']\r\n        const key = arr.join(spliter)\r\n        // 给pathMap设置数据\r\n        if (pathMap[key]) {\r\n          pathMap[key].push(sku.id)\r\n        } else {\r\n          pathMap[key] = [sku.id]\r\n        }\r\n      })\r\n    }\r\n  })\r\n  console.log(pathMap)\r\n\r\n  return pathMap\r\n}\r\n// 得到当前选中规格数组\r\nconst getSelectedArr = (specs) => {\r\n  const selectedArr = []\r\n  specs.forEach(spec => {\r\n    const selectVal = spec.values.find(val => val.selected)\r\n    selectedArr.push(selectVal ? selectVal.name : undefined)\r\n  })\r\n  return selectedArr\r\n}\r\n// 更新按钮的禁用状态\r\nconst updateDisabledStatus = (specs, pathMap) => {\r\n  specs.forEach((spec, i) => {\r\n    const selectedArr = getSelectedArr(specs)\r\n    spec.values.forEach(val => {\r\n      // 已经选中的按钮不用判断\r\n      if (val.name === selectedArr[i]) return false\r\n      // 未选中的替换对应的值\r\n      selectedArr[i] = val.name\r\n      // 过滤无效的值得到key\r\n      const key = selectedArr.filter(v => v).join(spliter)\r\n      // 设置禁用状态\r\n      val.disabled = !pathMap[key]\r\n    })\r\n  })\r\n}\r\n// 默认选中\r\nconst inDefaultSelected = (goods, skuId) => {\r\n  // 1.找出sku的信息\r\n  // 2.遍历每一个按钮,按钮的值和 sku记录的值相同,就选中\r\n  const sku = goods.skus.find(sku => sku.id === skuId)\r\n  // 设置默认选中\r\n  goods.specs.forEach((item, i) => {\r\n    const val = item.values.find(val => val.name === sku.specs[i].valueName)\r\n    val.selected = true\r\n  })\r\n}\r\nexport default {\r\n  name: 'GoodsSku',\r\n  props: {\r\n    goods: {\r\n      type: Object,\r\n      default: () => ({ specs: [], skus: [] })\r\n    },\r\n    skuId: {\r\n      type: String,\r\n      default: ''\r\n    }\r\n  },\r\n  setup (props, { emit }) {\r\n    const pathMap = getPathMap(props.goods.skus)\r\n    // 初始化时  根据skuId,初始化默认选中\r\n    if (props.skuId) {\r\n      console.log('props.skuId', props.skuId)\r\n      inDefaultSelected(props.goods, props.skuId)\r\n    }\r\n    //  ☆ 组件初始化: 更新按钮禁用状态\r\n    updateDisabledStatus(props.goods.specs, pathMap)\r\n    const clickSpecs = (item, val) => {\r\n      // 如果是禁用状态不作处理\r\n      if (val.disabled) return false\r\n      // 1.选中时,再次点击该选项,取消选中\r\n      // 2.当前项选中时,点击同一规格的其他 属性时,取消当前选中,给 点击目标 添加选中\r\n      if (val.selected) {\r\n        val.selected = false\r\n      } else {\r\n        item.values.forEach(p => { p.selected = false })\r\n        val.selected = true\r\n      }\r\n      // ☆ 点击按钮时,更新按钮禁用状态\r\n      updateDisabledStatus(props.goods.specs, pathMap)\r\n      // 将你选择的sku信息通知父组件{skuId,price,oldPrice,inventory,specsText}\r\n      // 1.选择完整的sku组合按钮,才可以拿到这些信息,提知父组件\r\n      // 2.不是完整的sku组合按钮,提交对象父组件\r\n      const validSelectedValues = getSelectedArr(props.goods.specs).filter(v => v)\r\n      if (validSelectedValues.length === props.goods.specs.length) {\r\n        // console.log('完整')\r\n        const skuIds = pathMap[validSelectedValues.join(spliter)]\r\n        // console.log('skuIds', skuIds)\r\n        const sku = props.goods.skus.find(sku => sku.id === skuIds[0])\r\n        emit('change', {\r\n          skuId: sku.id,\r\n          price: sku.price,\r\n          oldPrice: sku.oldPrice,\r\n          inventory: sku.inventory,\r\n          // 属性名:属性名 属性值 属性名1 属性值1\r\n          specsText: sku.specs.reduce((p, c) => `${p} ${c.name}: ${c.valueName}`, '').trim()\r\n        })\r\n        // console.log(sku.specs.reduce((p, c) => `${p} ${c.name}: ${c.valueName}`, ''))\r\n      } else {\r\n        console.log('不完整')\r\n        // 父组件需要判断是否规格选择完整,不完整不能加购物车\r\n        emit('change', {})\r\n      }\r\n    }\r\n\r\n    return { clickSpecs, pathMap }\r\n  }\r\n}\r\n</script>\r\n<style scoped lang=\"less\">\r\n.sku-state-mixin () {\r\n  border: 1px solid #e4e4e4;\r\n  margin-right: 10px;\r\n  cursor: pointer;\r\n  &.selected {\r\n    border-color: @xtxColor;\r\n  }\r\n  &.disabled {\r\n    opacity: 0.6;\r\n    border-style: dashed;\r\n    cursor: not-allowed;\r\n  }\r\n}\r\n.goods-sku {\r\n  padding-left: 10px;\r\n  padding-top: 20px;\r\n  dl {\r\n    display: flex;\r\n    padding-bottom: 20px;\r\n    align-items: center;\r\n    dt {\r\n      width: 50px;\r\n      color: #999;\r\n    }\r\n    dd {\r\n      flex: 1;\r\n      color: #666;\r\n      > img {\r\n        width: 50px;\r\n        height: 50px;\r\n        .sku-state-mixin ();\r\n      }\r\n      > span {\r\n        display: inline-block;\r\n        height: 30px;\r\n        line-height: 28px;\r\n        padding: 0 20px;\r\n        .sku-state-mixin ();\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","/**\r\n * Find power-set of a set using BITWISE approach.\r\n *\r\n * @param {*[]} originalSet\r\n * @return {*[][]}\r\n */\r\n export default function bwPowerSet(originalSet) {\r\n  const subSets = [];\r\n\r\n  // We will have 2^n possible combinations (where n is a length of original set).\r\n  // It is because for every element of original set we will decide whether to include\r\n  // it or not (2 options for each set element).\r\n  const numberOfCombinations = 2 ** originalSet.length;\r\n\r\n  // Each number in binary representation in a range from 0 to 2^n does exactly what we need:\r\n  // it shows by its bits (0 or 1) whether to include related element from the set or not.\r\n  // For example, for the set {1, 2, 3} the binary number of 0b010 would mean that we need to\r\n  // include only \"2\" to the current set.\r\n  for (let combinationIndex = 0; combinationIndex < numberOfCombinations; combinationIndex += 1) {\r\n    const subSet = [];\r\n\r\n    for (let setElementIndex = 0; setElementIndex < originalSet.length; setElementIndex += 1) {\r\n      // Decide whether we need to include current element into the subset or not.\r\n      if (combinationIndex & (1 << setElementIndex)) {\r\n        subSet.push(originalSet[setElementIndex]);\r\n      }\r\n    }\r\n\r\n    // Add current subset to the list of all subsets.\r\n    subSets.push(subSet);\r\n  }\r\n\r\n  return subSets;\r\n}","import { render } from \"./goods-sku.vue?vue&type=template&id=82e9dd20&scoped=true\"\nimport script from \"./goods-sku.vue?vue&type=script&lang=js\"\nexport * from \"./goods-sku.vue?vue&type=script&lang=js\"\n\nimport \"./goods-sku.vue?vue&type=style&index=0&id=82e9dd20&scoped=true&lang=less\"\n\nimport exportComponent from \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\erabbit-pc-vue-project\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-82e9dd20\"]])\n\nexport default __exports__"],"names":["findGoods","id","request","findRelGoods","limit","findHotGoods","type","findCommentInfoByGoods","findGoodsCommentList","params","getSpecsAndSkus","skuId","class","width","_createElementVNode","colspan","href","_createElementBlock","_hoisted_1","_hoisted_2","_createVNode","_component_XtxBread","_component_XtxBreadItem","to","_hoisted_3","_hoisted_4","_component_XtxCheckbox","onChange","$setup","modelValue","_ctx","getters","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","length","_hoisted_11","_component_CartNone","_Fragment","item","key","$event","selected","_hoisted_12","_component_RouterLink","src","picture","alt","_hoisted_14","name","_component_CartSku","attrsText","_hoisted_15","nowPrice","price","_hoisted_17","_hoisted_18","_component_XtxNumbox","count","max","stock","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","onClick","_hoisted_24","_hoisted_26","style","_hoisted_27","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_36","_hoisted_37","_hoisted_38","_hoisted_39","_hoisted_40","_hoisted_41","toFixed","_component_XtxButton","_component_GoodRelevant","_imports_0","push","__exports__","ref","$props","_createBlock","_component_GoodsSku","goods","size","props","String","default","components","GoodsSku","setup","emit","visable","loading","currSku","changeSku","sku","value","submit","close","open","then","data","result","toggle","console","log","target","onClickOutside","GoodRelevant","CartNone","CartSku","store","useStore","router","useRouter","checkOne","dispatch","checkAll","deleteCart","Confirm","title","text","Message","catch","e","batchDeleteCart","isClear","changeCount","updateCartSku","oldSkuId","newSku","checkOut","state","user","profile","token","render","_component_xtx_carousel","sliders","useRelGoodsData","pageSize","pageCount","Math","ceil","i","slice","goodsId","specs","values","val","disabled","bwPowerSet","originalSet","subSets","numberOfCombinations","combinationIndex","subSet","setElementIndex","spliter","getPathMap","skus","pathMap","forEach","inventory","valueArr","map","valueName","valueArrPowerSet","getPowerSet","arr","join","getSelectedArr","selectedArr","spec","selectVal","find","undefined","updateDisabledStatus","filter","v","inDefaultSelected","Object","clickSpecs","p","validSelectedValues","skuIds","oldPrice","specsText","reduce","c","trim"],"sourceRoot":""}