(self["webpackChunkerabbit_pc_vue_project"]=self["webpackChunkerabbit_pc_vue_project"]||[]).push([[634],{1787:function(e,s,o){"use strict";o.d(s,{IA:function(){return t},Kx:function(){return d},ZI:function(){return n},lK:function(){return l},t5:function(){return c},z6:function(){return i}});var a=o(4471);const t=e=>(0,a.Z)("/goods","get",{id:e}),n=(e,s=16)=>(0,a.Z)("/goods/relevant","get",{id:e,limit:s}),l=({id:e,type:s,limit:o=3})=>(0,a.Z)("/goods/hot","get",{id:e,type:s,limit:o}),c=e=>(0,a.Z)(`https://mock.boxuegu.com/mock/1175/goods/${e}/evaluate`),i=(e,s)=>(0,a.Z)(`https://mock.boxuegu.com/mock/1175/goods/${e}/evaluate/page`,"get",s),d=e=>(0,a.Z)(`/goods/sku/${e}`,"get")},5274:function(e,s,o){"use strict";o.d(s,{Z:function(){return p}});var a=o(3396),t=o(7139);const n={alt:""},l={class:"name ellipsis"},c={class:"desc ellipsis"},i={class:"price"};function d(e,s,o,d,u,r){const g=(0,a.up)("RouterLink"),p=(0,a.Q2)("lazy");return(0,a.wg)(),(0,a.j4)(g,{to:`/product/${o.goods.id}`,class:"goods-item"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a._)("img",n,null,512),[[p,o.goods.picture]]),(0,a._)("p",l,(0,t.zw)(o.goods.name),1),(0,a._)("p",c,(0,t.zw)(o.goods.desc),1),(0,a._)("p",i,"¥"+(0,t.zw)(o.goods.price),1)])),_:1},8,["to"])}var u={name:"GoodsItem",props:{goods:{type:Object,default:()=>{}}}},r=o(89);const g=(0,r.Z)(u,[["render",d],["__scopeId","data-v-26802fc2"]]);var p=g},7296:function(e,s,o){"use strict";o.d(s,{Z:function(){return _}});var a=o(3396),t=o(7139);const n=e=>((0,a.dD)("data-v-64a9ff65"),e=e(),(0,a.Cn)(),e),l={class:"goods-relevant"},c={class:"header"},i=n((()=>(0,a._)("i",{class:"icon"},null,-1))),d={class:"title"};function u(e,s,o,n,u,r){const g=(0,a.up)("xtx-carousel");return(0,a.wg)(),(0,a.iD)("div",l,[(0,a._)("div",c,[i,(0,a._)("span",d,(0,t.zw)(o.goodsId?"同类商品推荐":"猜你喜欢"),1)]),(0,a.Wm)(g,{sliders:n.sliders},null,8,["sliders"])])}o(7658);var r=o(1787),g=o(4870);const p=e=>{const s=(0,g.iH)([]);return(0,r.ZI)(e).then((e=>{const o=4,a=Math.ceil(e.result.length/o);for(let t=0;t<a;t++)s.value.push(e.result.slice(t*o,(t+1)*o));console.log(s)})),s};var v={name:"GoodsRelevant",props:{goodsId:{type:String,default:""}},setup(e){const s=p(e.goodsId);return{sliders:s}}},m=o(89);const f=(0,m.Z)(v,[["render",u],["__scopeId","data-v-64a9ff65"]]);var _=f},903:function(e,s,o){"use strict";o.d(s,{Z:function(){return k}});var a=o(3396),t=o(7139);const n={class:"goods-sku"},l=["onClick","src","title"],c=["onClick"];function i(e,s,o,i,d,u){return(0,a.wg)(),(0,a.iD)("div",n,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.goods.specs,(e=>((0,a.wg)(),(0,a.iD)("dl",{key:e.id},[(0,a._)("dt",null,(0,t.zw)(e.name),1),(0,a._)("dd",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.values,(s=>((0,a.wg)(),(0,a.iD)(a.HY,{key:s.name},[s.picture?((0,a.wg)(),(0,a.iD)("img",{key:0,onClick:o=>i.clickSpecs(e,s),class:(0,t.C_)({selected:s.selected,disabled:s.disabled}),src:s.picture,title:s.name},null,10,l)):((0,a.wg)(),(0,a.iD)("span",{key:1,class:(0,t.C_)({selected:s.selected,disabled:s.disabled}),onClick:o=>i.clickSpecs(e,s)},(0,t.zw)(s.name),11,c))],64)))),128))])])))),128))])}o(7658);function d(e){const s=[],o=2**e.length;for(let a=0;a<o;a+=1){const o=[];for(let s=0;s<e.length;s+=1)a&1<<s&&o.push(e[s]);s.push(o)}return s}const u="★",r=e=>{const s={};return e.forEach((e=>{if(e.inventory>0){const o=e.specs.map((e=>e.valueName));console.log(o);const a=d(o);console.log(a),a.forEach((o=>{const a=o.join(u);s[a]?s[a].push(e.id):s[a]=[e.id]}))}})),console.log(s),s},g=e=>{const s=[];return e.forEach((e=>{const o=e.values.find((e=>e.selected));s.push(o?o.name:void 0)})),s},p=(e,s)=>{e.forEach(((o,a)=>{const t=g(e);o.values.forEach((e=>{if(e.name===t[a])return!1;t[a]=e.name;const o=t.filter((e=>e)).join(u);e.disabled=!s[o]}))}))},v=(e,s)=>{const o=e.skus.find((e=>e.id===s));e.specs.forEach(((e,s)=>{const a=e.values.find((e=>e.name===o.specs[s].valueName));a.selected=!0}))};var m={name:"GoodsSku",props:{goods:{type:Object,default:()=>({specs:[],skus:[]})},skuId:{type:String,default:""}},setup(e,{emit:s}){const o=r(e.goods.skus);e.skuId&&(console.log("props.skuId",e.skuId),v(e.goods,e.skuId)),p(e.goods.specs,o);const a=(a,t)=>{if(t.disabled)return!1;t.selected?t.selected=!1:(a.values.forEach((e=>{e.selected=!1})),t.selected=!0),p(e.goods.specs,o);const n=g(e.goods.specs).filter((e=>e));if(n.length===e.goods.specs.length){const a=o[n.join(u)],t=e.goods.skus.find((e=>e.id===a[0]));s("change",{skuId:t.id,price:t.price,oldPrice:t.oldPrice,inventory:t.inventory,specsText:t.specs.reduce(((e,s)=>`${e} ${s.name}: ${s.valueName}`),"").trim()})}else console.log("不完整"),s("change",{})};return{clickSpecs:a,pathMap:o}}},f=o(89);const _=(0,f.Z)(m,[["render",i],["__scopeId","data-v-82e9dd20"]]);var k=_},4634:function(e,s,o){"use strict";o.r(s),o.d(s,{default:function(){return ps}});var a=o(3396),t=o(7139);const n={key:0,class:"xtx-goods-page"},l={class:"container"},c={class:"goods-info"},i={class:"media"},d={class:"spec"},u={class:"goods-footer"},r={class:"goods-article"},g={class:"goods-aside"};function p(e,s,o,p,v,m){const f=(0,a.up)("XtxBreadItem"),_=(0,a.up)("XtxBread"),k=(0,a.up)("GoodsImage"),w=(0,a.up)("GoodsSales"),y=(0,a.up)("GoodsName"),h=(0,a.up)("GoodsSku"),I=(0,a.up)("XtxNumbox"),C=(0,a.up)("XtxButton"),b=(0,a.up)("GoodsRelevant"),x=(0,a.up)("GoodsTabs"),D=(0,a.up)("GoodsWarn"),P=(0,a.up)("GoodsHot");return p.goods?((0,a.wg)(),(0,a.iD)("div",n,[(0,a._)("div",l,[(0,a.Wm)(_,null,{default:(0,a.w5)((()=>[(0,a.Wm)(f,{to:"/"},{default:(0,a.w5)((()=>[(0,a.Uk)("首页")])),_:1}),(0,a.Wm)(f,{to:`/category/${p.goods.categories[1].id}`},{default:(0,a.w5)((()=>[(0,a.Uk)((0,t.zw)(p.goods.categories[1].name),1)])),_:1},8,["to"]),(0,a.Wm)(f,{to:`/category/sub/${p.goods.categories[0].id}`},{default:(0,a.w5)((()=>[(0,a.Uk)((0,t.zw)(p.goods.categories[0].name),1)])),_:1},8,["to"]),(0,a.Wm)(f,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,t.zw)(p.goods.name),1)])),_:1})])),_:1}),(0,a._)("div",c,[(0,a._)("div",i,[(0,a.Wm)(k,{images:p.goods.mainPictures},null,8,["images"]),(0,a.Wm)(w)]),(0,a._)("div",d,[(0,a.Wm)(y,{goods:p.goods},null,8,["goods"]),p.goods.skus[0].id?((0,a.wg)(),(0,a.j4)(h,{key:0,goods:p.goods,skuId:p.getSkuId(),onChange:p.changeSku},null,8,["goods","skuId","onChange"])):(0,a.kq)("",!0),(0,a.Wm)(I,{label:"数量",modelValue:p.num,"onUpdate:modelValue":s[0]||(s[0]=e=>p.num=e),max:p.goods.inventory},null,8,["modelValue","max"]),(0,a.Wm)(C,{onClick:p.insertCart,type:"primary",style:{"margin-top":"20px"}},{default:(0,a.w5)((()=>[(0,a.Uk)("加入购物车")])),_:1},8,["onClick"])])]),(0,a.Wm)(b,{goodsId:p.goods.id},null,8,["goodsId"]),(0,a._)("div",u,[(0,a._)("div",r,[(0,a.Wm)(x,{goods:p.goods},null,8,["goods"]),(0,a.Wm)(D)]),(0,a._)("div",g,[(0,a.Wm)(P,{goodsId:p.goods.id,type:1},null,8,["goodsId"]),(0,a.Wm)(P,{goodsId:p.goods.id,type:2},null,8,["goodsId"])])])])])):(0,a.kq)("",!0)}var v=o(1787),m=o(7296),f=o(9242);const _={class:"goods-image"},k={class:"middle",ref:"target"},w=["src"],y={class:"small"},h=["onMouseenter","src"];function I(e,s,o,n,l,c){return(0,a.wg)(),(0,a.iD)("div",_,[(0,a.wy)((0,a._)("div",{class:"large",style:(0,t.j5)([{backgroundImage:`url(${o.images[n.currIndex]})`},n.BgPosition])},null,4),[[f.F8,n.show]]),(0,a._)("div",k,[(0,a._)("img",{src:o.images[n.currIndex],alt:""},null,8,w),(0,a.wy)((0,a._)("div",{class:"layer",style:(0,t.j5)(n.maskPosition)},null,4),[[f.F8,n.show]])],512),(0,a._)("ul",y,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.images,((e,s)=>((0,a.wg)(),(0,a.iD)("li",{key:e,class:(0,t.C_)({active:s===n.currIndex})},[(0,a._)("img",{onMouseenter:e=>n.currIndex=s,src:e,alt:""},null,40,h)],2)))),128))])])}var C=o(4870),b=o(8401),x={name:"GoodsImage",props:{images:{type:Array,default:()=>[]}},setup(){const e=(0,C.iH)(0),{target:s,show:o,maskPosition:a,BgPosition:t}=D();return{currIndex:e,target:s,show:o,maskPosition:a,BgPosition:t}}};const D=()=>{const e=(0,C.iH)(!1),s=(0,C.iH)(null),o=(0,C.qj)({left:0,top:0}),t=(0,C.qj)({backgroundPositionX:0,backgroundPositionY:0}),{elementX:n,elementY:l,isOutside:c}=(0,b.jY)(s);return(0,a.YP)([n,l,c],(()=>{e.value=!c.value;const s={x:0,y:0};n.value<100?s.x=0:n.value>300?s.x=200:s.x=n.value-100,l.value<100?s.y=0:l.value>300?s.y=200:s.y=l.value-100,o.left=s.x+"px",o.top=s.y+"px",t.backgroundPositionX=-2*s.x+"px",t.backgroundPositionY=-2*s.y+"px"})),{target:s,show:e,maskPosition:o,BgPosition:t}};var P=o(89);const G=(0,P.Z)(x,[["render",I],["__scopeId","data-v-288c1663"]]);var H=G;const z={class:"goods-sales"},j=(0,a.uE)('<li data-v-ca3db56a><p data-v-ca3db56a>销量人气</p><p data-v-ca3db56a>200+</p><p data-v-ca3db56a><i class="iconfont icon-task-filling" data-v-ca3db56a></i>销量人气</p></li><li data-v-ca3db56a><p data-v-ca3db56a>商品评价</p><p data-v-ca3db56a>400+</p><p data-v-ca3db56a><i class="iconfont icon-comment-filling" data-v-ca3db56a></i>查看评价</p></li><li data-v-ca3db56a><p data-v-ca3db56a>收藏人气</p><p data-v-ca3db56a>600+</p><p data-v-ca3db56a><i class="iconfont icon-favorite-filling" data-v-ca3db56a></i>收藏商品</p></li><li data-v-ca3db56a><p data-v-ca3db56a>品牌信息</p><p data-v-ca3db56a>苏宁电器</p><p data-v-ca3db56a><i class="iconfont icon-dynamic-filling" data-v-ca3db56a></i>品牌主页</p></li>',4),Z=[j];function S(e,s,o,t,n,l){return(0,a.wg)(),(0,a.iD)("ul",z,Z)}var Y={name:"GoodsSales"};const W=(0,P.Z)(Y,[["render",S],["__scopeId","data-v-ca3db56a"]]);var q=W;const L=e=>((0,a.dD)("data-v-82f2182e"),e=e(),(0,a.Cn)(),e),T={class:"g-name"},$={class:"g-desc"},N={class:"g-price"},K={class:"g-service"},E=L((()=>(0,a._)("dl",null,[(0,a._)("dt",null,"促销"),(0,a._)("dd",null,"12月好物放送，App领券购买直降120元")],-1))),F=L((()=>(0,a._)("dt",null,"配送",-1))),U=L((()=>(0,a._)("dl",null,[(0,a._)("dt",null,"服务"),(0,a._)("dd",null,[(0,a._)("span",null,"无忧退货"),(0,a._)("span",null,"快速退款"),(0,a._)("span",null,"免费包邮"),(0,a._)("a",{href:"javascript:;"},"了解详情")])],-1)));function X(e,s,o,n,l,c){const i=(0,a.up)("xtx-city");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("p",T,(0,t.zw)(o.goods.name),1),(0,a._)("p",$,(0,t.zw)(o.goods.desc),1),(0,a._)("p",N,[(0,a._)("span",null,(0,t.zw)(o.goods.price),1),(0,a._)("span",null,(0,t.zw)(o.goods.oldPrice),1)]),(0,a._)("div",K,[E,(0,a._)("dl",null,[F,(0,a._)("dd",null,[(0,a.Uk)("至 "),(0,a.Wm)(i,{onChange:n.changeCity,fullLocation:n.fullLocation},null,8,["onChange","fullLocation"])])]),U])],64)}var A={name:"GoodName",props:{goods:{type:Object,default:()=>({})}},setup(e,{emit:s}){const o=(0,C.iH)("110000"),a=(0,C.iH)("119900"),t=(0,C.iH)("110101"),n=(0,C.iH)("北京市 市辖区 东城区");if(e.goods.userAddresses){const s=e.goods.userAddresses.find((e=>1===e.isDefault));s&&(o.value=s.provinceCode,a.value=s.cityCode,t.value=s.countyCode,n.value=s.fullLocfullLocationation)}const l=e=>{o.value=e.provinceCode,a.value=e.cityCode,t.value=e.countyCode,n.value=e.fullLocation};return{fullLocation:n,changeCity:l}}};const B=(0,P.Z)(A,[["render",X],["__scopeId","data-v-82f2182e"]]);var R=B,M=o(903);const O={class:"goods-tabs"};function V(e,s,o,n,l,c){return(0,a.wg)(),(0,a.iD)("div",O,[(0,a._)("nav",null,[(0,a._)("a",{class:(0,t.C_)({active:"goods-detail"===n.activeName}),href:"javascript:;",onClick:s[0]||(s[0]=e=>n.clickTab("goods-detail"))},"商品详情",2),(0,a._)("a",{class:(0,t.C_)({active:"goods-comment"===n.activeName}),href:"javascript:;",onClick:s[1]||(s[1]=e=>n.clickTab("goods-comment"))},[(0,a.Uk)("商品评价"),(0,a._)("span",null,"("+(0,t.zw)(n.goods.commentCount)+")",1)],2)]),((0,a.wg)(),(0,a.j4)((0,a.LL)(n.activeName)))])}const J={class:"goods-detail"},Q={class:"attrs"},ee={class:"dt"},se={class:"dd"},oe=["src"];function ae(e,s,o,n,l,c){return(0,a.wg)(),(0,a.iD)("div",J,[(0,a._)("ul",Q,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.goods.details.properties,(e=>((0,a.wg)(),(0,a.iD)("li",{key:e.value},[(0,a._)("span",ee,(0,t.zw)(e.name),1),(0,a._)("span",se,(0,t.zw)(e.value),1)])))),128))]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.goods.details.pictures,(e=>((0,a.wg)(),(0,a.iD)("img",{key:e,src:e,alt:""},null,8,oe)))),128))])}var te={name:"GoodsDetail",setup(){const e=(0,a.f3)("goods");return{goods:e}}};const ne=(0,P.Z)(te,[["render",ae],["__scopeId","data-v-80b5d92c"]]);var le=ne;const ce=e=>((0,a.dD)("data-v-3a371d41"),e=e(),(0,a.Cn)(),e),ie={class:"goods-comment"},de={key:0,class:"head"},ue={class:"data"},re=ce((()=>(0,a._)("span",null,"人购买",-1))),ge=ce((()=>(0,a._)("span",null,"好评率",-1))),pe={class:"tags"},ve=ce((()=>(0,a._)("div",{class:"dt"},"大家都在说：",-1))),me={class:"dd"},fe=["onClick"],_e={key:1,class:"sort"},ke=ce((()=>(0,a._)("span",null,"排序：",-1))),we={key:2,class:"list"},ye={class:"user"},he=["src"],Ie={class:"body"},Ce={class:"score"},be={class:"attr"},xe={class:"text"},De={class:"time"},Pe={class:"zan"},Ge=ce((()=>(0,a._)("i",{class:"iconfont icon-dianzan"},null,-1)));function He(e,s,o,n,l,c){const i=(0,a.up)("GoodsCommentImage"),d=(0,a.up)("xtx-pagination");return(0,a.wg)(),(0,a.iD)("div",ie,[n.commentInfo?((0,a.wg)(),(0,a.iD)("div",de,[(0,a._)("div",ue,[(0,a._)("p",null,[(0,a._)("span",null,(0,t.zw)(n.commentInfo.salesCount),1),re]),(0,a._)("p",null,[(0,a._)("span",null,(0,t.zw)(n.commentInfo.praisePercent),1),ge])]),(0,a._)("div",pe,[ve,(0,a._)("div",me,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.commentInfo.tags,((e,s)=>((0,a.wg)(),(0,a.iD)("a",{key:e.title,href:"javascript:;",class:(0,t.C_)({active:n.currTagIndex===s}),onClick:e=>n.changeTag(s)},(0,t.zw)(e.title)+"（"+(0,t.zw)(e.tagCount)+"）",11,fe)))),128))])])])):(0,a.kq)("",!0),n.commentInfo?((0,a.wg)(),(0,a.iD)("div",_e,[ke,(0,a._)("a",{onClick:s[0]||(s[0]=e=>n.changeSort(null)),class:(0,t.C_)([{active:null===n.reqParams.sortField},"active"]),href:"javascript:;"},"默认",2),(0,a._)("a",{onClick:s[1]||(s[1]=e=>n.changeSort("createTime")),class:(0,t.C_)({active:"createTime"===n.reqParams.sortField}),href:"javascript:;"},"最新",2),(0,a._)("a",{onClick:s[2]||(s[2]=e=>n.changeSort("praiseCount")),class:(0,t.C_)({active:"praiseCount"===n.reqParams.sortField}),href:"javascript:;"},"最热",2)])):(0,a.kq)("",!0),n.commentList?((0,a.wg)(),(0,a.iD)("div",we,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.commentList,(e=>((0,a.wg)(),(0,a.iD)("div",{class:"item",key:e.id},[(0,a._)("div",ye,[(0,a._)("img",{src:e.member.avatar,alt:""},null,8,he),(0,a._)("span",null,(0,t.zw)(n.formatNickname(e.member.nickname)),1)]),(0,a._)("div",Ie,[(0,a._)("div",Ce,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.score,(e=>((0,a.wg)(),(0,a.iD)("i",{key:e+"s",class:"iconfont icon-wjx01"})))),128)),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(5-e.score,(e=>((0,a.wg)(),(0,a.iD)("i",{key:e+"k",class:"iconfont icon-wjx02"})))),128)),(0,a._)("span",be,(0,t.zw)(n.formatSpecs(e.orderInfo.specs)),1)]),(0,a._)("div",xe,(0,t.zw)(e.content),1),e.pictures.length?((0,a.wg)(),(0,a.j4)(i,{key:0,pictures:e.pictures},null,8,["pictures"])):(0,a.kq)("",!0),(0,a._)("div",De,[(0,a._)("span",null,(0,t.zw)(e.createTime),1),(0,a._)("span",Pe,[Ge,(0,a.Uk)((0,t.zw)(e.praiseCount),1)])])])])))),128))])):(0,a.kq)("",!0),(0,a.Wm)(d,{onCurrentChange:n.changePager,total:n.total,"current-page":n.reqParams.page},null,8,["onCurrentChange","total","current-page"])])}o(541);const ze={class:"goods-comment-image"},je={class:"list"},Ze=["onClick"],Se=["src"],Ye={key:0,class:"preview"},We=["src"];function qe(e,s,o,n,l,c){return(0,a.wg)(),(0,a.iD)("div",ze,[(0,a._)("div",je,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.pictures,(e=>((0,a.wg)(),(0,a.iD)("a",{href:"javascript:;",class:(0,t.C_)({active:n.currImage===e}),onClick:s=>n.currImage=e,key:e},[(0,a._)("img",{src:e,alt:""},null,8,Se)],10,Ze)))),128))]),n.currImage?((0,a.wg)(),(0,a.iD)("div",Ye,[(0,a._)("img",{src:n.currImage,alt:""},null,8,We),(0,a._)("i",{onClick:s[0]||(s[0]=e=>n.currImage=null),class:"iconfont icon-close-new"})])):(0,a.kq)("",!0)])}var Le={name:"GoodsCommentImage",props:{pictures:{type:Array,default:()=>[]}},setup(){const e=(0,C.iH)(null);return{currImage:e}}};const Te=(0,P.Z)(Le,[["render",qe],["__scopeId","data-v-398a7ed3"]]);var $e=Te,Ne={name:"GoodsComment",components:{GoodsCommentImage:$e},setup(){const e=(0,C.iH)(null),s=(0,a.f3)("goods"),o=(0,C.iH)(0);(0,v.t5)(s.value.id).then((s=>{s.result.tags.unshift({type:"img",title:"有图",tagCount:s.result.hasPictureCount}),s.result.tags.unshift({type:"all",title:"全部评价",tagCount:s.result.hasPictureCount}),e.value=s.result,console.log(s.result)}));const t=s=>{o.value=s;const a=e.value.tags[s];"all"===a.type?(n.hasPicture=null,n.tag=null):"img"===a.type?(n.hasPicture=!0,n.tag=null):(n.hasPicture=null,n.tag=a.title),n.page=1},n=(0,C.qj)({page:1,pageSize:10,hasPicture:null,tag:null,sortField:null}),l=(0,C.iH)([]),c=(0,C.iH)(0);(0,a.YP)(n,(async()=>{const e=await(0,v.z6)(s.value.id,n);l.value=e.result.items,c.value=e.result.counts}),{immediate:!0});const i=e=>{n.sortField=e,n.page=1},d=e=>e.reduce(((e,s)=>`${e} ${s.name}:${s.nameValue}`),""),u=e=>e.slice(0,1)+"****"+e.slice(-1),r=e=>{n.page=e};return{commentInfo:e,currTagIndex:o,changeTag:t,reqParams:n,commentList:l,changeSort:i,formatSpecs:d,formatNickname:u,total:c,changePager:r}}};const Ke=(0,P.Z)(Ne,[["render",He],["__scopeId","data-v-3a371d41"]]);var Ee=Ke,Fe={name:"GoodsTabs",components:{GoodsDetail:le,GoodsComment:Ee},setup(){const e=(0,C.iH)("goods-detail"),s=s=>{e.value=s},o=(0,a.f3)("goods");return{activeName:e,clickTab:s,goods:o}}},Ue=o(6596),Xe=o.n(Ue);"function"===typeof Xe()&&Xe()(Fe);const Ae=(0,P.Z)(Fe,[["render",V],["__scopeId","data-v-31ccf112"]]);var Be=Ae;const Re={class:"goods-hot"},Me={key:0};function Oe(e,s,o,n,l,c){const i=(0,a.up)("GoodsItem");return(0,a.wg)(),(0,a.iD)("div",Re,[(0,a._)("h3",null,(0,t.zw)(n.title),1),n.goodsList?((0,a.wg)(),(0,a.iD)("div",Me,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.goodsList,(e=>((0,a.wg)(),(0,a.j4)(i,{key:e.id,goods:e},null,8,["goods"])))),128))])):(0,a.kq)("",!0)])}var Ve=o(5274),Je={name:"GoodsHot",props:{type:{type:Number,default:1},goodsId:{type:String,default:""}},components:{GoodsItem:Ve.Z},setup(e){const s={1:"24小时热销榜",2:"周热销榜",3:"总热销榜"},o=(0,a.Fl)((()=>s[e.type])),t=(0,C.iH)([]);return(0,v.lK)({id:e.goodsId,type:e.type}).then((e=>{t.value=e.result})),{title:o,goodsList:t}}};const Qe=(0,P.Z)(Je,[["render",Oe],["__scopeId","data-v-70cf43e5"]]);var es=Qe;const ss={class:"goods-warn"},os=(0,a.uE)('<h3 data-v-2d293123>注意事项</h3><p class="tit" data-v-2d293123>• 购买运费如何收取？</p><p data-v-2d293123> 单笔订单金额(不含运费)满88元免邮费；不满88元，每单收取10元运费。（港澳台地区需满500元免邮费；不满500元，每单收取30元运费) </p><br data-v-2d293123><p class="tit" data-v-2d293123>• 使用什么快递发货?</p><p data-v-2d293123>默认使用顺丰快递发货(个别商品使用其他快递）</p><p data-v-2d293123>配送范围覆盖全国大部分地区(港澳台地区除外）</p><br data-v-2d293123><p class="tit" data-v-2d293123>• 如何申请退货?</p><p data-v-2d293123> 1.自收到商品之日起30日内，顾客可申请无忧退货，退款将原路返还，不同的银行处理时间不同，预计1-5个工作日到账； </p><p data-v-2d293123>2.内裤和食品等特殊商品无质量问题不支持退货；</p><p data-v-2d293123> 3.退货流程： 确认收货-申请退货-客服审核通过-用户寄回商品-仓库签收验货-退款审核-退款完成； </p><p data-v-2d293123> 4.因小兔鲜儿产生的退货，如质量问题，退货邮费由小兔鲜儿承担，退款完成后会以现金券的形式报销。因客户个人原因产生的退货，购买和寄回运费由客户个人承担。 </p>',13),as=[os];function ts(e,s){return(0,a.wg)(),(0,a.iD)("div",ss,as)}const ns={},ls=(0,P.Z)(ns,[["render",ts],["__scopeId","data-v-2d293123"]]);var cs=ls,is=o(2483),ds=o(65),us=o(8391),rs={name:"XtxGoodsPage",components:{GoodsRelevant:m.Z,GoodsImage:H,GoodsSales:q,GoodsName:R,GoodsSku:M.Z,GoodsTabs:Be,GoodsHot:es,GoodsWarn:cs},setup(){const e=()=>{const e=(0,C.iH)(null),s=(0,is.yj)();return(0,a.YP)((()=>s.params.id),(o=>{o&&s.path===`/product/${o}`&&(0,v.IA)(s.params.id).then((s=>{e.value=null,(0,a.Y3)((()=>{e.value=s.result,console.log("goods",e.value.skus[0].id),t()}))}))}),{immediate:!0}),e},s=e(),o=e=>{console.log("sku",e),e.skuId?(s.value.price=e.price,s.value.oldPrice=e.oldPrice,s.value.inventory=e.inventory,l.value=e):l.value=null},t=()=>{const e=s.value.skus.find((e=>e.inventory>0));return console.log("currSkuId.id",e.id),e.id};(0,a.JJ)("goods",s);const n=(0,C.iH)(1),l=(0,C.iH)(null),c=(0,a.FN)(),i=(0,ds.oR)(),d=()=>{(0,a.Y3)((()=>l.value?n.value>s.inventory?c.proxy.$message("库存不足"):void 0:(console.log("currSku.value",l.value),c.proxy.$message("请选择商品规格")))),i.dispatch("cart/insertCart",{id:s.value.id,skuId:l.value.skuId,name:s.value.name,picture:s.value.mainPictures[0],price:l.value.price,nowPrice:l.value.price,count:n.value,attrsText:l.value.specsText,selected:!0,isEffective:!0,stock:l.value.inventory}).then((()=>{(0,us.Z)({text:"加入购物车成功",type:"success"})}))};return{goods:s,changeSku:o,num:n,getSkuId:t,insertCart:d}}};const gs=(0,P.Z)(rs,[["render",p],["__scopeId","data-v-4e50d052"]]);var ps=gs},6596:function(){}}]);
//# sourceMappingURL=634.f974e6e7.js.map