{"version":3,"file":"js/46.ea892fee.js","mappings":"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","sources":["webpack://erabbit-pc-vue-project/./src/api/home.js","webpack://erabbit-pc-vue-project/./src/views/category/components/goods-item.vue","webpack://erabbit-pc-vue-project/./src/views/category/components/goods-item.vue?729e","webpack://erabbit-pc-vue-project/./src/views/category/index.vue","webpack://erabbit-pc-vue-project/./src/views/category/index.vue?2ee1"],"sourcesContent":["// 首页相关的接口\r\nimport request from '@/utils/request'\r\n\r\nexport const findBrand = (limit = 6) => {\r\n  return request('/home/brand', 'get', { limit })\r\n}\r\n\r\n/**\r\n * 获取广告图\r\n * @returns Promise\r\n */\r\nexport const findBanner = () => {\r\n  return request('/home/banner', 'get')\r\n}\r\n\r\n/**\r\n * 获取新鲜好物\r\n * @returns Promise\r\n */\r\nexport const findNew = () => {\r\n  return request('home/new', 'get')\r\n}\r\n\r\n/**\r\n * 获取人气推荐\r\n * @returns Promise\r\n */\r\nexport const findHot = () => {\r\n  return request('home/hot', 'get')\r\n}\r\n\r\n/**\r\n * 获取商品区块\r\n * @returns Promise\r\n */\r\nexport const findGoods = () => {\r\n  return request('home/goods', 'get')\r\n}\r\n\r\n/**\r\n * 获取最新专题\r\n * @returns Promise\r\n */\r\nexport const findSpecial = () => {\r\n  return request('home/special', 'get')\r\n}\r\n","<template>\r\n  <RouterLink :to=\"`/product/${goods.id}`\" class='goods-item'>\r\n    <img v-lazy=\"goods.picture\" alt=\"\">\r\n    <p class=\"name ellipsis\">{{goods.name}}</p>\r\n    <p class=\"desc ellipsis\">{{goods.desc}}</p>\r\n    <p class=\"price\">&yen;{{goods.price}}</p>\r\n  </RouterLink>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'GoodsItem',\r\n  props: {\r\n    goods: {\r\n      type: Object,\r\n      default: () => { }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang='less'>\r\n.goods-item {\r\n  display: block;\r\n  width: 220px;\r\n  padding: 20px 30px;\r\n  text-align: center;\r\n  .hoverShadow();\r\n  img {\r\n    width: 160px;\r\n    height: 160px;\r\n  }\r\n  p {\r\n    padding-top: 10px;\r\n  }\r\n  .name {\r\n    font-size: 16px;\r\n  }\r\n  .desc {\r\n    color: #999;\r\n    height: 29px;\r\n  }\r\n  .price {\r\n    color: @priceColor;\r\n    font-size: 20px;\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./goods-item.vue?vue&type=template&id=26802fc2&scoped=true\"\nimport script from \"./goods-item.vue?vue&type=script&lang=js\"\nexport * from \"./goods-item.vue?vue&type=script&lang=js\"\n\nimport \"./goods-item.vue?vue&type=style&index=0&id=26802fc2&scoped=true&lang=less\"\n\nimport exportComponent from \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\erabbit-pc-vue-project\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-26802fc2\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"top-category\">\r\n    <div class=\"container\">\r\n      <!-- 面包屑 -->\r\n      <XtxBread>\r\n        <XtxBreadItem to=\"/\">首页</XtxBreadItem>\r\n        <transition name=\"fade-right\" mode=\"out-in\">\r\n          <XtxBreadItem :key=\"topCategory.id\">{{topCategory.name}}</XtxBreadItem>\r\n        </transition>\r\n      </XtxBread>\r\n      <!-- 轮播图 -->\r\n      <XtxCarousel :sliders=\"sliders\" style=\"height:500px\" />\r\n      <!-- 所有二级分类 -->\r\n      <div class=\"sub-list\">\r\n        <h3>全部分类</h3>\r\n        <ul>\r\n          <li v-for=\"item in topCategory.children\" :key=\"item.id\">\r\n            <a href=\"javascript:;\">\r\n              <img :src=\"item.picture\" >\r\n              <p>{{item.name}}</p>\r\n            </a>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n      <!-- 分类关联商品 -->\r\n      <div class=\"ref-goods\" v-for=\"item in subList\" :key=\"item.id\">\r\n        <div class=\"head\">\r\n          <h3>- {{item.name}} -</h3>\r\n          <p class=\"tag\">{{item.desc}}</p>\r\n          <XtxMore  :path=\"`/category/sub/${item.id}`\" />\r\n        </div>\r\n        <div class=\"body\">\r\n          <GoodsItem v-for=\"sub in item.goods\" :key=\"sub.id\" :goods=\"sub\" />\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { findBanner } from '@/api/home'\r\nimport { useStore } from 'vuex'\r\nimport { useRoute } from 'vue-router'\r\nimport { computed, ref, watch } from 'vue'\r\nimport GoodsItem from './components/goods-item'\r\nimport { findTopCategory } from '@/api/category'\r\n\r\nexport default {\r\n  name: 'TopCategory',\r\n  components: { GoodsItem },\r\n  setup () {\r\n    // 轮播图\r\n    const sliders = ref([])\r\n    findBanner().then(data => {\r\n      sliders.value = data.result\r\n    })\r\n\r\n    // 面包屑+所有分类\r\n    const store = useStore()\r\n    const route = useRoute()\r\n    console.log('route', route)\r\n    const topCategory = computed(() => {\r\n      let cate = {}\r\n      const item = store.state.category.list.find(item => {\r\n        return item.id === route.params.id\r\n      })\r\n      if (item) cate = item\r\n      return cate\r\n    })\r\n    console.log(route.params.id)\r\n\r\n    // 推荐商品\r\n    const subList = ref([])\r\n    // 定义一个获取 api函数 , watch 监听 route.params.id 的改变,触发 该 api函数\r\n    const getSubList = () => {\r\n      findTopCategory(route.params.id).then(data => {\r\n        subList.value = data.result.children\r\n      })\r\n    }\r\n    watch(() => route.params.id, (newVal) => {\r\n      // newVal && getSubList()\r\n      if (newVal && `/category/${newVal}` === route.path) getSubList()\r\n    }, { immediate: true })\r\n    return { sliders, topCategory, subList }\r\n  }\r\n}\r\n</script>\r\n<style scoped lang=\"less\">\r\n.top-category {\r\n  h3 {\r\n    font-size: 28px;\r\n    color: #666;\r\n    font-weight: normal;\r\n    text-align: center;\r\n    line-height: 100px;\r\n  }\r\n  .sub-list {\r\n    margin-top: 20px;\r\n    background-color: #fff;\r\n    ul {\r\n      display: flex;\r\n      padding: 0 32px;\r\n      flex-wrap: wrap;\r\n      li {\r\n        width: 168px;\r\n        height: 160px;\r\n        a {\r\n          text-align: center;\r\n          display: block;\r\n          font-size: 16px;\r\n          img {\r\n            width: 100px;\r\n            height: 100px;\r\n          }\r\n          p {\r\n            line-height: 40px;\r\n          }\r\n          &:hover {\r\n            color: @xtxColor;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  // 分类商品\r\n  .ref-goods {\r\n    background-color: #fff;\r\n    margin-top: 20px;\r\n    position: relative;\r\n    .head {\r\n      .xtx-more {\r\n        position: absolute;\r\n        top: 20px;\r\n        right: 20px;\r\n      }\r\n      .tag {\r\n        text-align: center;\r\n        color: #999;\r\n        font-size: 20px;\r\n        position: relative;\r\n        top: -20px;\r\n      }\r\n    }\r\n    .body {\r\n      display: flex;\r\n      justify-content: flex-start;\r\n      flex-wrap: wrap;\r\n      padding: 0 65px 30px;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./index.vue?vue&type=template&id=bfdb7cf0&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=bfdb7cf0&scoped=true&lang=less\"\n\nimport exportComponent from \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\erabbit-pc-vue-project\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-bfdb7cf0\"]])\n\nexport default __exports__"],"names":["findBrand","limit","request","findBanner","findNew","findHot","findGoods","findSpecial","alt","class","_createBlock","_component_RouterLink","to","$props","id","_createElementVNode","_hoisted_1","picture","_hoisted_2","name","_hoisted_3","desc","_hoisted_4","price","props","goods","type","Object","default","__exports__","render","href","_createElementBlock","_createVNode","_component_XtxBread","_component_XtxBreadItem","_Transition","mode","key","$setup","_component_XtxCarousel","sliders","style","_Fragment","children","item","_hoisted_5","src","_hoisted_7","_hoisted_8","_component_XtxMore","path","_hoisted_9","sub","_component_GoodsItem","components","GoodsItem","setup","ref","then","data","value","result","store","useStore","route","useRoute","console","log","topCategory","computed","cate","state","category","list","find","params","subList","getSubList","findTopCategory","watch","newVal","immediate"],"sourceRoot":""}